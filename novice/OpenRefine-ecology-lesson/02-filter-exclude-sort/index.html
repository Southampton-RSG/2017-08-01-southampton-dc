<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2017-04-05 12:47:24 +0100">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/lesson.css" />
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicon-dc.ico" />
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
    <title>Open Refine for Ecology: Filtering and Sorting with OpenRefine</title>
  </head>
  <body>
    <div class="container">
      
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      
      <a href="http://datacarpentry.org" class="pull-left">
        <img class="navbar-logo" src="../assets/img/dc-icon-black.svg" alt="Data Carpentry logo" />
      </a>
      

      
      <a class="navbar-brand" href="../">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="../conduct/">Code of Conduct</a></li>

	
        
        <li><a href="../setup/">Setup</a></li>
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="../00-getting-started/">Introduction</a></li>
            
            <li><a href="../01-working-with-openrefine/">Working with OpenRefine</a></li>
            
            <li><a href="../02-filter-exclude-sort/">Filtering and Sorting with OpenRefine</a></li>
            
            <li><a href="../03-numbers/">Examining Numbers in OpenRefine</a></li>
            
            <li><a href="../04-scripts/">Scripts from OpenRefine</a></li>
            
            <li><a href="../05-save-export/">Exporting and Saving Data from OpenRefine</a></li>
            
            <li><a href="../06-resources/">Other Resources in OpenRefine</a></li>
            
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../reference/">Reference</a></li>
            
            <li><a href="../about/">About</a></li>
            
            <li><a href="../discuss/">Discussion</a></li>
            
            <li><a href="../figures/">Figures</a></li>
            
            <li><a href="../guide/">Instructor Notes</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="../license/">License</a></li>
	
	<li><a href="/edit/gh-pages/_episodes/02-filter-exclude-sort.md">Improve this page <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
	
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>


<div class="row">
  <div class="col-md-1">
    <h3>
      
      <a href="../01-working-with-openrefine/"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-md-10">
    
    <h3 class="maintitle"><a href="../">Open Refine for Ecology</a></h3>
    <h1 class="maintitle">Filtering and Sorting with OpenRefine</h1>
    
  </div>
  <div class="col-md-1">
    <h3>
      
      <a href="../03-numbers/"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>


<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 10 min
      <br/>
      <strong>Exercises:</strong> 10 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>Filtering and sorting data</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Filter to a subset of rows by text filter or include/exclude.</p>
</li>
	
	<li><p>Sort table by a column.</p>
</li>
	
	<li><p>Sort by multiple columns.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<h1 id="lesson">Lesson</h1>

<h2 id="filtering">Filtering</h2>

<p>There are many entries in the rodent table. We can filter it to work on a subset of the data in the list for the next set of operations. Please ensure you perform this step to save time during the class.</p>

<ol>
  <li>Select <strong>scientificName</strong> drop-down menu <strong>&gt; Text filter</strong>. Note that a <strong>scientificName</strong> facet will appear on the left margin.</li>
  <li>Type in <strong>bai</strong> and press return. There are 48 matching rows of the original 35549 row
(and are selected for the subsequent steps).</li>
  <li>At the top, change the view to <strong>Show</strong> 50 <strong>rows</strong>. This way you will see all the rows.</li>
</ol>

<blockquote class="challenge">
  <h2 id="challenge">Challenge</h2>

  <p>What scientific names (genus and species) are selected by this procedure?
How would you restrict this to one of the species selected?</p>
</blockquote>

<h3 id="excluding-entries">Excluding entries</h3>

<p>While we could type more letters of text, or click <strong>case sensitive</strong>, another way to filter is to <strong>include</strong> and/or <strong>exclude</strong> entries in a facet. If you still have your facet for <strong>scientificName</strong>, you can use it, or use drop-down menue <strong>&gt; Facet &gt; Text facet</strong> to create a new one. Only the names that agree with your <strong>Text filter</strong> will remain.</p>

<blockquote class="challenge">
  <h2 id="challenge-1">Challenge</h2>

  <p>Use <strong>include / exclude</strong> to exclude one of the scientific names. Below are some suggested steps.</p>
</blockquote>

<ol>
  <li>In the facet (left margin), click on one of the names, such as <strong>Baiomys taylori</strong>. Notice that when you click on the name, or hover over it, there are entries to the right for <em>edit</em> and <em>include</em>.</li>
  <li>Click <strong>include</strong>. This will explicitly include this specie, and exclude others that are not expicitly included. Notice that to option now changes to <strong>exclude</strong>.</li>
  <li>Click <strong>include</strong> and <strong>exclude</strong> on the other species (<strong>Chaetodipus baileyi</strong>) and notice how the two entries appear and disappear from the table.</li>
</ol>

<h2 id="sort">Sort</h2>

<p>You can sort the data by a column by using the drop-down menu in that column.
There you can sort by <strong>text</strong>, <strong>numbers</strong>, <strong>dates</strong> or <strong>booleans</strong> (logical expressions). You can specify what order to put <strong>Blanks</strong> and <strong>Errors</strong>.</p>

<p>If this is your first time sorting this table, then the drop-down menu for the selected column shows : <strong>&gt; Sort…</strong>. Select the way to sort (such as <strong>numbers</strong>)</p>

<blockquote class="challenge">
  <h2 id="challenge-2">Challenge</h2>

  <p>Sort by month. How can you ensure that months are in order?</p>
</blockquote>

<p>If you try to resort a column that you have already used, the drop-down menu changes slightly, to <strong>&gt; Sort</strong> without the <em>…</em>, to remind you that you have already used this column. It will give you additional options:</p>

<ul>
  <li><strong>&gt; Sort &gt; Sort…</strong></li>
  <li><strong>&gt; Sort &gt; Reverse</strong></li>
  <li><strong>&gt; Sort &gt; Remove sort</strong></li>
</ul>

<h3 id="sorting-by-multiple-columns">Sorting by multiple columns.</h3>

<p>You can sort by multiple columns by performing sort on additional columns. The sort will depend on the order in which you select columns to sort. To restart the sorting process with a particular column, check the <strong>sort by this column alone</strong> box in the sort pop-up menu.</p>

<blockquote class="challenge">
  <h2 id="challenge-3">Challenge</h2>

  <p>Try sorting by a <strong>year</strong> after you have sorted by <strong>month</strong>. What happens to ordering?</p>

  <p>Try sorting first by <strong>year</strong> and then by <strong>month</strong>. Be sure to check the <strong>sort by this column alone</strong> box when sorting by <strong>year</strong> to remove earlier sorts.</p>
</blockquote>

<p>If you go back to one of the already sorted colunms and select <strong>&gt; Sort &gt; Remove sort</strong>, that column is removed from your multiple sort. If it is the only column sorted, then data reverts to its original order.</p>

<blockquote class="challenge">
  <h2 id="challenge-4">Challenge</h2>

  <p>Sort by <strong>year</strong>, <strong>month</strong> and <strong>day</strong> in some order. Be creative: try sorting as <strong>numbers</strong> or <strong>text</strong>, and in reverse order (<strong>largest to smallest</strong> or <strong>z to a</strong>).</p>

  <p>Use <strong>&gt; Sort &gt; Remove sort</strong> to remove the sort on the second of three columns. Notice how that changes the order.</p>
</blockquote>


<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>OpenRefine provides a way to sort and filter data without affecting the raw data.</p>
</li>
    
  </ul>
</blockquote>


<div class="row">
  <div class="col-md-1">
    <h3>
      
      <a href="../01-working-with-openrefine/"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-md-10">
    
  </div>
  <div class="col-md-1">
    <h3>
      
      <a href="../03-numbers/"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>


      
      
<footer>
  <div class="row">
    <div class="col-md-6" align="left">
      <h4>
	Copyright &copy; 2016–2017
	
	<a href="http://datacarpentry.org">Data Carpentry</a>
	
      </h4>
    </div>
    <div class="col-md-6" align="right">
      <h4>
	
	<a href="/edit/gh-pages/_episodes/02-filter-exclude-sort.md">Edit on GitHub</a>
	
	/
	<a href="/blob/gh-pages/CONTRIBUTING.md">Contributing</a>
	/
	<a href="/">Source</a>
	/
	<a href="/blob/gh-pages/CITATION">Cite</a>
	/
	<a href="mailto:lessons@datacarpentry.org">Contact</a>
      </h4>
    </div>
  </div>
</footer>

      
    </div>
    
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/lesson.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
