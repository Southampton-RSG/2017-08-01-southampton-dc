<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Alistair Bailey" />


<title>Getting started</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="01_R_and_Rstudio.html">R and RStudio</a>
</li>
<li>
  <a href="02_intro_to_R.html">Getting started</a>
</li>
<li>
  <a href="04_import_and_inspect.html">Importing data</a>
</li>
<li>
  <a href="05_transforming_data.html">Transforming data</a>
</li>
<li>
  <a href="06_visualising_data.html">Visualising data</a>
</li>
<li>
  <a href="07_summary_of_ecology_data.html">Communication</a>
</li>
<li>
  <a href="03_ecology_data_overview.html">Rodent Survey Overview</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/datacarpentry/R-ecology-lesson">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Getting started</h1>
<h4 class="author"><em>Alistair Bailey</em></h4>

</div>


<hr />
<blockquote>
<h3 id="learning-objectives">Learning Objectives</h3>
<p>By the end of this lesson the learner will:</p>
<ul>
<li>Have been introduced to ggplot2 for visualisation</li>
<li>Performed some more object assignments and functions calls.</li>
</ul>
</blockquote>
<hr />
<div style="text-align: center; margin-top: 30px; margin-bottom: 30px;">
<div class="figure">
<img src="img/data_project_pipeline_vis.png" />

</div>
</div>
<div id="data-visualisation" class="section level1">
<h1>Data visualisation</h1>
<p>Let’s begin with visualisation of some data using the <code>ggplot2</code> package.</p>
<p>We’re starting here as we gather data to ask and answer questions, and visualising data often provides the answers.</p>
<p>We’re using ggplot2 as this implements the <em>grammer of graphics</em>, for describing and building graphs. This is far from the only way to create graphs, but in this course we’ll be working within the <em>tidyverse</em>, a set of packages that implement a coherent set of tools for data science in R. ggplot2 is a package that is part of the tidyverse package.</p>
<p>We should have the tidyverse installed and loaded already, which means ggplot2 is loaded and ready to go.</p>
<div id="using-graphs-to-explore-data" class="section level2">
<h2>Using graphs to explore data</h2>
<div id="do-cars-with-big-engines-use-more-fuel-than-cars-with-small-engines" class="section level3">
<h3>Do cars with big engines use more fuel than cars with small engines?</h3>
<p>Included in ggplot2 is a data frame called <code>mpg</code> containing variables in columns and observations in rows collected by the US Environmental Protection Agency for 38 models of cars.</p>
<p>Type <code>mpg</code> in the console window to take a look at this R object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mpg</code></pre></div>
<pre><code>## # A tibble: 234 × 11
##    manufacturer      model displ  year   cyl      trans   drv   cty   hwy
##           &lt;chr&gt;      &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt;      &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt;
## 1          audi         a4   1.8  1999     4   auto(l5)     f    18    29
## 2          audi         a4   1.8  1999     4 manual(m5)     f    21    29
## 3          audi         a4   2.0  2008     4 manual(m6)     f    20    31
## 4          audi         a4   2.0  2008     4   auto(av)     f    21    30
## 5          audi         a4   2.8  1999     6   auto(l5)     f    16    26
## 6          audi         a4   2.8  1999     6 manual(m5)     f    18    26
## 7          audi         a4   3.1  2008     6   auto(av)     f    18    27
## 8          audi a4 quattro   1.8  1999     4 manual(m5)     4    18    26
## 9          audi a4 quattro   1.8  1999     4   auto(l5)     4    16    25
## 10         audi a4 quattro   2.0  2008     4 manual(m6)     4    20    28
## # ... with 224 more rows, and 2 more variables: fl &lt;chr&gt;, class &lt;chr&gt;</code></pre>
<p>Try <code>?mpg</code> to learn more about the data.</p>
<ol style="list-style-type: decimal">
<li>Engine size in litres is in the <code>displ</code> column.</li>
<li>Fuel efficiency on the highway in miles per gallon is given in the <code>hwy</code> column.</li>
</ol>
<p>To plot engine size (x-axis) against fuel efficiency (y-axis) we do the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> mpg) +<span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>displ, <span class="dt">y=</span>hwy))</code></pre></div>
<p><img src="img/r-lesson-mpg_point_plot-1.png" width="672" /></p>
<p>This plot shows a negative relationship between engine size and fuel efficiency.</p>
<p>What we did here was call the <code>ggplot()</code> function to create an empty graph, where the first argument is the data (here <code>mpg</code>). The we used a <code>geom_point()</code> function to add a layer of points mapping the aesthetics for the x and y axes.</p>
<p>Mapping is always paired to aesthetics <code>aes()</code>. An aesthetic is a visual property of the objects in your plot, such a point size, shape or point colour.</p>
<blockquote>
<h3 id="challenge">Challenge</h3>
<p>Is the trend the same for fuel efficiency in cities?</p>
<ul>
<li>Which variable represents city miles per gallon?</li>
<li>Can you produce a plot of engine size (x-axis) against city fuel efficiency (y-axis) ?</li>
<li>Is the trend positive or negative between engine size and city fuel efficiency ?</li>
</ul>
</blockquote>
<p>Here we just used the values of x and y as points, but we could add a colour or shape aesthetic too.</p>
<p>But why?</p>
<p>Suppose we also were trying to understand the relationship between the type of car, the engine size and fuel efficiency. To contain all this information in a single plot we need to have a third aesthetic, a third property to describe the car type, contained in the <code>class</code> column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> mpg) +<span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>displ, <span class="dt">y=</span>hwy, <span class="dt">colour=</span>class))</code></pre></div>
<p><img src="img/r-lesson-mpg_hwy_colour-1.png" width="672" /></p>
<p>As we might expect, bigger cars such as SUVs tend to have bigger engines and are also less fuel efficient, but some smaller cars such as 2seaters also have big engines and greater fuel efficiency. Hence we have a more nuanced view with this additional aesthetic.</p>
<p>Check out the ggplot2 documentation for all the aesthetic possibilities (and Google for examples): <a href="http://ggplot2.tidyverse.org/reference/" class="uri">http://ggplot2.tidyverse.org/reference/</a></p>
<p>So now we have re-usable code snippet for generating plots in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> &lt;DATA&gt;) +<span class="st"> </span>
<span class="st">  </span><span class="er">&lt;</span>GEOM_FUNCTION&gt;(<span class="dt">mapping =</span> <span class="kw">aes</span>(&lt;MAPPINGS&gt;))</code></pre></div>
<p>Concretely, in our first example <code>&lt;DATA&gt;</code> was <code>mpg</code>, the <code>&lt;GEOM_FUNCTION&gt;</code> was <code>geom_point()</code> and the arguments we supplies to map our aesthetics <code>&lt;MAPPINGS&gt;</code> were <code>x = displ, y = hwy</code>.</p>
</div>
<div id="what-is-the-availability-of-different-types-of-diamond" class="section level3">
<h3>What is the availability of different types of diamond?</h3>
<p>Plotting in R can do more than just display raw data, it can transform it at the same time.</p>
<p>Also, we only looked at one type of geometric object, <code>geom_point</code>, last time. Geoms are the type of data display ggplot2 creates e.g. points, box-plots, bar charts. Here we’ll see some of the other geom types.</p>
<p>Let’s look at another built in data frame called <code>diamonds</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">diamonds</code></pre></div>
<pre><code>## # A tibble: 53,940 × 10
##    carat       cut color clarity depth table price     x     y     z
##    &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   0.23     Ideal     E     SI2  61.5    55   326  3.95  3.98  2.43
## 2   0.21   Premium     E     SI1  59.8    61   326  3.89  3.84  2.31
## 3   0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31
## 4   0.29   Premium     I     VS2  62.4    58   334  4.20  4.23  2.63
## 5   0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75
## 6   0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48
## 7   0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47
## 8   0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53
## 9   0.22      Fair     E     VS2  65.1    61   337  3.87  3.78  2.49
## 10  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39
## # ... with 53,930 more rows</code></pre>
<p>This data set has records of about 54,000 diamonds, including price (dollars), quality of the cut (cut) and weight (carat).</p>
<p>Let’s create a bar-plot of diamond cut quality using our code snippet:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>cut))</code></pre></div>
<p><img src="img/r-lesson-diamond_barplot-1.png" width="672" /></p>
<p>What’s happened here? Rather than plotting the raw data, ggplot has transformed the data by counting the the number of diamonds in the row of data frame corresponding with each quality.</p>
<p>This statistical transformation of counting the rows is a default of <code>geom_bar()</code>, by reading the help we can find out more <code>?geom_bar</code>, and how to change it.</p>
<p>We see that ideal cut quality diamonds are most abundant.</p>
<p>The depth measurement describes the relationship of the height to its width as a percentage. Plotting this as a box-plot automatically calculates the the range of depths, and associated statistics for each quality type.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>cut,<span class="dt">y=</span>depth))</code></pre></div>
<p><img src="img/r-lesson-diamond_boxplot-1.png" width="672" /></p>
<blockquote>
<h3 id="challenge-1">Challenge</h3>
<p>As before, we could apply another aesthetic, colour to also look at the same relationship, but also across the clarity types.</p>
<p>Create a box-plot as before, but add <code>colour = clarity</code> to the aesthetics mapping</p>
</blockquote>
<!-- This is getting a bit harder to read, so finally we introduce the idea of facets. -->
<!-- Rather than mapping an additional aesthetic, we can used facets to split this  -->
<!-- into subplots using the following code: -->
<!-- ```{r,purl=FALSE} -->
<!-- ggplot(data = diamonds) +  -->
<!--   geom_boxplot(mapping = aes(x=cut,y=depth)) + -->
<!--   facet_wrap(~ clarity) -->
<!-- ``` -->
<!-- But we're now struggling to fit the labels on the x-axis, so let's flip them -->
<!-- with `coord_flip()` to make things easier to read. -->
<!-- ```{r,purl=FALSE} -->
<!-- ggplot(data = diamonds) +  -->
<!--   geom_boxplot(mapping = aes(x=cut,y=depth)) + -->
<!--   facet_wrap(~ clarity) +  -->
<!--   coord_flip() -->
<!-- ``` -->
<!-- To use `facet_wrap()` with a single variable we call the function with a formula -->
<!-- such that the first arguement is `~` and then the variable `clarity`. This must -->
<!-- be a discrete variable. -->
<p>Comparing our bar chart and box plot we can see that diamonds of the greatest abundance are also generally the most uniform in terms of depth and clarity.</p>
<p>We’ll return to plotting later and look at how to make them suitable for publication by performing tasks such as relabelling axes or adding titles.</p>
<p>Hopefully you are beginning to see how a single line of code can do a lot.</p>
</div>
</div>
</div>
<div id="workflow-basics" class="section level1">
<h1>Workflow basics</h1>
<p>Let’s revisit the basics of working in R to conclude this part of the lesson.</p>
<div id="assigning-objects" class="section level2">
<h2>Assigning objects</h2>
<p>Objects are just a way to store data inside the R environment. We create objects using the assignment operator <code>&lt;-</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">weight_kg &lt;-<span class="st"> </span><span class="dv">55</span></code></pre></div>
<p>Read this as <em>“weight_kg gets value 55”</em> in your head.</p>
<p>Using <code>&lt;-</code> can be annoying to type, so use RStudio’s keyboard short cut: Alt + - (the minus sign) to make life easier.</p>
<p>Object name style is a matter of choice, but must start with a letter and can only contain letters, numbers, <code>_</code> and <code>.</code>. We recommend using descriptive names and using <code>_</code> between words. Some special symbols cannot be used in variable names, so watch out for those.</p>
<p>So here we’ve used the name to indicate its value represents a weight in kilograms. Look in your environment pane and you’ll see the <code>weight_kg</code> object containing the (data) value 55.</p>
<p>We can inspect an object by typing it’s name:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">weight_kg</code></pre></div>
<p>What’s wrong here?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">weight_KG</code></pre></div>
<p><code>Error: object 'weight_KG' not found</code></p>
<p>This error illustrates that typos matter, everything must be precise and <code>weight_KG</code> is not the same as <code>weight_kg</code>. <code>weight_KG</code> doesn’t exist, hence the error.</p>
<div id="calling-functions" class="section level3">
<h3>Calling functions</h3>
<p>Functions in R are objects followed by parentheses, such as <code>library()</code>. Functions have the form:</p>
<p><code>function_name(arg1 = val, arg2 = val2, ...)</code></p>
<p>Let’s use <code>seq()</code> to create a <strong>seq</strong>uence of numbers, and at the same time practice tab completion.</p>
<p>Start typing <code>se</code> in the console and you should see a list of functions appear, add <code>q</code> to shorten the list, then use the up and down arrow to highlight the function of interest <code>seq()</code> and hit Tab to select.</p>
<p>RStudio puts the cursor between the parentheses to prompt us to enter some arguments. Here we’ll use 1 as the start and 10 as the end:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>If we left off a parentheses to close the function, then when we hit enter we’ll see a <code>+</code> indicating RStudio is expecting further code. We either add the missing part or press Escape to cancel the code.</p>
<p>Let’s call a function and make an assignment at the same time. Here we’ll use the base R function <code>seq()</code> which takes three arguments: <code>from</code>, <code>to</code> and <code>by</code>.</p>
<p>Read the following code as *“make an object called my_sequence that stores a sequence of numbers from 2 to 20 by intervals of 2*.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_sequence &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">2</span>,<span class="dv">20</span>,<span class="dv">2</span>)</code></pre></div>
<p>This time nothing was returned to the console, but we now have an object called <code>my_sequence</code> in our environment.</p>
<p>Can you remember how to inspect it?</p>
<p>If we want to subset elements of <code>my_sequence</code> we use square brackets <code>[]</code>.</p>
<p>For example element five would be subset by:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_sequence[<span class="dv">5</span>]</code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Here the number five is the index of the vector, not the value of the fifth element. The value of the fifth element is 10.</p>
<p>And returning multiple elements uses a colon <code>:</code>, like so</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_sequence[<span class="dv">5</span>:<span class="dv">8</span>]</code></pre></div>
<pre><code>## [1] 10 12 14 16</code></pre>
</div>
</div>
</div>
<div id="atomic-vectors" class="section level1">
<h1>Atomic vectors</h1>
<p>We actually made an atomic vector already when we made <code>my_sequence</code>. We made a a one dimensional group of numbers, in a sequence from two to twenty.</p>
<p>We’re not going to be working much with atomic vectors in this workshop, but to make you aware of how R stores data, atomic vector types are:</p>
<ul>
<li>Doubles: regular numbers, +ve or -ve and with or without decimal places. AKA numerics.</li>
<li>Integers: whole numbers, specified with an upper-case L, e.g. <code>int &lt;- 2L</code></li>
<li>Characters: Strings of text</li>
<li>Logicals: these store <code>TRUE</code>s and <code>FALSE</code>s which are useful for comparisons.</li>
<li>Complex: this would be a vector of numbers with imaginary terms.</li>
<li>Raw: these vectors store raw bytes of data.</li>
</ul>
<p>Let’s make a character vector and check the type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cards &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ace&quot;</span>, <span class="st">&quot;king&quot;</span>, <span class="st">&quot;queen&quot;</span>, <span class="st">&quot;jack&quot;</span>, <span class="st">&quot;ten&quot;</span>)

cards</code></pre></div>
<pre><code>## [1] &quot;ace&quot;   &quot;king&quot;  &quot;queen&quot; &quot;jack&quot;  &quot;ten&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(cards)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<blockquote>
<h3 id="challenge-2">Challenge</h3>
<p>What type of vector is <code>my_sequence</code>?</p>
</blockquote>
</div>
<div id="attributes" class="section level1">
<h1>Attributes</h1>
<p>An attribute is a piece of information you can attach to an object, such as names or dimensions. Attributes such as dimensions are added when we create an object, but others such as names can be added.</p>
<p>Let’s look at the <code>mpg</code> data frame dimensions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># mpg has 234 rows (observations) and 11 columns (variables)</span>
<span class="kw">dim</span>(mpg)</code></pre></div>
<pre><code>## [1] 234  11</code></pre>
</div>
<div id="factors" class="section level1">
<h1>Factors</h1>
<p>Factors are Rs way of storing categorical information such as eye colour or car type. A factor is something that can only have certain values.</p>
<p>Factors are useful as they code string variables such as “red” or “blue” to integer values e.g. 1 and 2, which can be used in statistical models and when plotting, but they are confusing as they look like strings.</p>
<p><strong>Factors look like strings, but behave like integers.</strong></p>
<p>Historically R converts strings to factors when we load and create data, but it’s often not what we want as a default. Fortunately, in the tidyverse strings are not treated as factors by default.</p>
</div>
<div id="lists" class="section level1">
<h1>Lists</h1>
<p>Lists also group data into one dimensional sets of data. The difference being that list group objects instead of individual values, such as several atomic vectors.</p>
<p>For example, let’s make a list containing a vector of numbers and a character vector</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">list_1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>:<span class="dv">110</span>,<span class="st">&quot;R&quot;</span>)

list_1</code></pre></div>
<pre><code>## [[1]]
##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
##  [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
##  [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
##  [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
##  [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
##  [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100 101 102
## [103] 103 104 105 106 107 108 109 110
## 
## [[2]]
## [1] &quot;R&quot;</code></pre>
<p>Note the double brackets to indicate the list elements, i.e. element one is the vector of numbers and element two is a vector of a single character.</p>
<blockquote>
<h3 id="challenge-3">Challenge</h3>
<p>Make a list from our vectors <code>my_sequence</code> and <code>cards</code></p>
</blockquote>
<p>We won’t be working with lists in this workshop, but they are a flexible way to store data of different types in R.</p>
<p>Accessing list elements uses double square brackets syntax, for example <code>list_1[[1]]</code> would return the first vector in our list.</p>
<p>And to access the first element in the first vector would combine double and single square brackets like so: <code>list_1[[1]][1]</code>.</p>
<p>Don’t worry if you find this confusing, everyone does when they first start with R.</p>
</div>
<div id="matrices-and-arrays" class="section level1">
<h1>Matrices and arrays</h1>
<p>Matrices store values in a two dimensional array, whilst arrays can have n dimensions. We won’t be using these either, but they are also valid R objects.</p>
</div>
<div id="data-frames" class="section level1">
<h1>Data frames</h1>
<p>Data frames are two dimensional versions of lists, and this is form of storing data we are going to be using. In a data frame each atomic vector type becomes a column, and a data frame is formed by columns of vectors of the same length. Each column element must be of the same type, but the column types can vary.</p>
<div class="figure">
<img src="img/data_frame.png" />

</div>
<p>Let’s create a data frame like the one in the picture and call it <code>df</code>.</p>
<p>To access a column in a data frame we use the data frame name followed by a <code>$</code> and the name of the column. For example <code>df$number</code> returns all the values in the <code>number</code> column of <code>df</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Note here we have to use StringsAsFactors = FALSE to create a character column</span>
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">number =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">3</span>),
                 <span class="dt">char =</span> <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>,<span class="st">&quot;A&quot;</span>,<span class="st">&quot;U&quot;</span>), 
                 <span class="dt">logi =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>), 
                 <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

df</code></pre></div>
<pre><code>##   number char  logi
## 1      1    S  TRUE
## 2      7    A FALSE
## 3      3    U  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str shows us the structure of the data frame</span>
<span class="kw">str</span>(df)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  3 variables:
##  $ number: num  1 7 3
##  $ char  : chr  &quot;S&quot; &quot;A&quot; &quot;U&quot;
##  $ logi  : logi  TRUE FALSE TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Show the contents of the number column</span>
df$number</code></pre></div>
<pre><code>## [1] 1 7 3</code></pre>
<p>We’ll be working with a modified form of data frame called a tibble. One advantage of tibbles is that they don’t default to treating strings as factors. We deal with modifying data frames when we work with our example data set.</p>
<p>Sub-setting data frames can also be done with square bracket syntax, but as we have both rows and columns, we need to provide index values for both row and column.</p>
<p>For example <code>df[1,2]</code> means <em>return the value of <code>df</code> row 1, column 2</em>. This corresponds with the value <code>A</code>.</p>
<p>We can also use the colon operator to choose several rows or columns, and by leaving the row or column blank we return all rows or all columns.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Subset rows 1 and 2 of column 1</span>
df[<span class="dv">1</span>:<span class="dv">2</span>,<span class="dv">1</span>]</code></pre></div>
<pre><code>## [1] 1 7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Subset all rows of column 3</span>
df[,<span class="dv">3</span>]</code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<p>Again don’t worry too much about this for now, we won’t be doing to much of this in this lesson, but it’s important to be aware of the basic syntax.</p>
<blockquote>
<h3 id="challenge-4">Challenge</h3>
<p>Make a data frame from our vectors <code>my_sequence</code> and <code>cards</code> and a logical vector.</p>
<p>We’ll use the first five elements of <code>my_sequence</code>.</p>
<p>Hint: Subset the first five elements using <code>my_sequence[1:5]</code></p>
<p>Hint: Use the form <code>c(TRUE, FALSE)</code> to create the logical vector.</p>
<p>Hint: Name the columns as in the example.</p>
</blockquote>
</div>
<div id="learning-more-r" class="section level1">
<h1>Learning more R</h1>
<p>There are many places to start, but swirl can teach you interactively, and at your own pace in RStudio.</p>
<p>Just follow the instructions via this link: <a href="http://swirlstats.com/students.html" class="uri">http://swirlstats.com/students.html</a></p>
<p><em>Hands-On Programming with R</em> by Garrett Grolemund is another great resource for learning R.</p>
</div>

<hr/>

<p><a href="http://datacarpentry.org/">Data Carpentry</a>, 2017. <br/>
  <a href="LICENSE.html">License</a>. Questions?  Feedback?
  Please <a href="https://github.com/datacarpentry/R-ecology-lesson/issues/new">file
    an issue on GitHub</a>. <br/>
  On Twitter: <a href="https://twitter.com/datacarpentry">@datacarpentry</a></p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
